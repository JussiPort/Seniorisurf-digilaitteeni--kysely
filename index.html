<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seniorisurf â€“ Minun digilaitteeni</title>
  <meta name="description" content="Seniorisurf opintopiiri 2025 â€“ keskusteleva kysely: Minun digilaitteeni â€“ sopiva valinta" />
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React 18 UMD + Babel for singleâ€‘file demo (no build step needed) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    details[open] summary .chev { transform: rotate(90deg); }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <main id="app" class="max-w-4xl mx-auto p-4 sm:p-6">
    <!-- React mounts here -->
  </main>

  <script type="text/babel">
    const { useEffect, useMemo, useState } = React;

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // Esimerkkilaitteet (pÃ¤ivitÃ¤ tarvittaessa)
    const PRODUCTS = [
      { cat: 'Tabletti', name: 'Samsung Galaxy Tab A9 (Wiâ€‘Fi)', price: 'n. 189â€“229 â‚¬', notes: 'SelkeÃ¤ nÃ¤yttÃ¶, aloittelijalle', links: {
        gigantti: 'https://www.google.com/search?q=Samsung+Galaxy+Tab+A9+site%3Agigantti.fi',
        verkkis: 'https://www.google.com/search?q=Samsung+Galaxy+Tab+A9+site%3Averkkokauppa.com',
        hintaopas: 'https://www.google.com/search?q=Samsung+Galaxy+Tab+A9+site%3Ahintaopas.fi',
      }},
      { cat: 'Tabletti', name: 'Lenovo Tab M10 3rd Gen', price: 'n. 149â€“199 â‚¬', notes: 'Edullinen 10" peruskÃ¤yttÃ¶Ã¶n', links: {
        gigantti: 'https://www.google.com/search?q=Lenovo+Tab+M10+3rd+Gen+site%3Agigantti.fi',
        verkkis: 'https://www.google.com/search?q=Lenovo+Tab+M10+3rd+Gen+site%3Averkkokauppa.com',
        hintaopas: 'https://www.google.com/search?q=Lenovo+Tab+M10+3rd+Gen+site%3Ahintaopas.fi',
      }},
      { cat: 'Puhelin (helppo)', name: 'Doro 8100', price: 'n. 239â€“269 â‚¬', notes: 'SelkeÃ¤t valikot, avustustoiminnot', links: {
        gigantti: 'https://www.google.com/search?q=Doro+8100+site%3Agigantti.fi',
        verkkis: 'https://www.google.com/search?q=Doro+8100+site%3Averkkokauppa.com',
        hintaopas: 'https://www.google.com/search?q=Doro+8100+site%3Ahintaopas.fi',
      }},
      { cat: 'Puhelin', name: 'Samsung Galaxy A15 5G (4/128)', price: 'n. 165â€“249 â‚¬', notes: 'HyvÃ¤ akku, hintaâ€“laatu', links: {
        gigantti: 'https://www.google.com/search?q=Samsung+Galaxy+A15+5G+site%3Agigantti.fi',
        verkkis: 'https://www.google.com/search?q=Samsung+Galaxy+A15+5G+site%3Averkkokauppa.com',
        hintaopas: 'https://www.google.com/search?q=Samsung+Galaxy+A15+5G+site%3Ahintaopas.fi',
      }},
      { cat: 'Kannettava', name: 'Lenovo IdeaPad 3 (15")', price: 'n. 499â€“699 â‚¬', notes: 'MonikÃ¤yttÃ¶ etÃ¤asiointiin', links: {
        gigantti: 'https://www.google.com/search?q=Lenovo+IdeaPad+3+15+site%3Agigantti.fi',
        verkkis: 'https://www.google.com/search?q=Lenovo+IdeaPad+3+15+site%3Averkkokauppa.com',
        hintaopas: 'https://www.google.com/search?q=Lenovo+IdeaPad+3+15+site%3Ahintaopas.fi',
      }},
    ];

    // Apu: tallenna paikallisesti
    const load = (k, d) => { try { return JSON.parse(localStorage.getItem(k)) ?? d; } catch { return d; } };
    const save = (k, v) => { try { localStorage.setItem(k, JSON.stringify(v)); } catch {} };

    function Section({ id, title, children, required=false, complete=false }) {
      return (
        <details id={id} className="group bg-white rounded-2xl border border-slate-200 mb-3 shadow-sm" open>
          <summary className="list-none select-none cursor-pointer flex items-center gap-3 p-4">
            <span className="chev transition-transform text-slate-500">â–¶</span>
            <h2 className="text-lg font-semibold">{title}</h2>
            {required && <span className="ml-auto text-xs rounded-full bg-rose-100 text-rose-700 px-2 py-0.5">pakollinen</span>}
            {complete && <span className="ml-2 text-xs rounded-full bg-emerald-100 text-emerald-700 px-2 py-0.5">ok</span>}
          </summary>
          <div className="px-4 pb-4 pt-2 border-t border-slate-100">{children}</div>
        </details>
      );
    }

    function Checkbox({ label, checked, onChange }) {
      return (
        <label className="flex items-start gap-3 p-2 rounded-xl border border-slate-200 hover:bg-slate-50">
          <input type="checkbox" className="mt-1" checked={checked} onChange={e=>onChange(e.target.checked)} />
          <span>{label}</span>
        </label>
      );
    }

    function RadioGroup({ options, value, onChange }) {
      return (
        <div className="grid gap-2">
          {options.map(opt => (
            <label key={opt} className={`p-2 rounded-xl border ${value===opt? 'border-emerald-400 bg-emerald-50':'border-slate-200 hover:bg-slate-50'}`}> 
              <input type="radio" name={options[0]} className="mr-2" checked={value===opt} onChange={()=>onChange(opt)} />
              {opt}
            </label>
          ))}
        </div>
      );
    }

    function Text({ value, onChange, placeholder }) {
      return (<input className="w-full p-3 rounded-xl border border-slate-300" value={value} onChange={e=>onChange(e.target.value)} placeholder={placeholder} />);
    }

    function App(){
      const [f, setF] = useState(load('seniorisurf-form', {
        miksi: [], laitteet: [], kaytto: [], liikkuvuus: '', naytto: '', taso: '', budjetti: '', tarpeet: [], paikkakunta: '', digituki: ''
      }));
      const [largeText, setLargeText] = useState(load('seniorisurf-large', false));

      useEffect(()=> save('seniorisurf-form', f), [f]);
      useEffect(()=> save('seniorisurf-large', largeText), [largeText]);
      useEffect(()=> { document.documentElement.classList.toggle('text-[18px]', largeText); }, [largeText]);

      const toggle = (key, label, multi=true) => setF(prev => {
        const next = { ...prev };
        if (multi) {
          const arr = new Set(next[key]);
          if (arr.has(label)) arr.delete(label); else arr.add(label);
          next[key] = Array.from(arr);
        } else {
          next[key] = label;
        }
        return next;
      });

      // Suosituslogiikka â€” perusteluineen
      const result = useMemo(()=>{
        const reasons = [];
        const uses = new Set(f.kaytto);

        let type = 'Tabletti';
        if (uses.has('Verkkokurssit ja etÃ¤luennot') || uses.has('Luova tyÃ¶ (kirjoittaminen, kuvankÃ¤sittely, piirtÃ¤minen)')) {
          type = (f.budjetti === 'Yli 1000 â‚¬') ? 'Tehokas kannettava' : 'Kannettava';
          reasons.push('Tarvitset nÃ¤ppÃ¤imistÃ¶n ja ison nÃ¤ytÃ¶n opiskeluun/luovaan tyÃ¶hÃ¶n.');
        } else if (uses.has('Omien asioiden hoitaminen (pankki, Kela, verottaja, liput)') || uses.has('Tiedon hakeminen (ohjeet, harrastukset, uutiset)')) {
          type = f.naytto === 'Iso ja selkeÃ¤ nÃ¤yttÃ¶ (helppo nÃ¤hdÃ¤ ja kÃ¤yttÃ¤Ã¤)' ? 'Tabletti' : 'Ã„lypuhelin';
          reasons.push('Arjen asiointi ja lukeminen hyÃ¶tyvÃ¤t selkeÃ¤stÃ¤ nÃ¤ytÃ¶stÃ¤.');
        } else if (uses.has('Yhteydenpito (WhatsApp, Skype, Facebook jne.)')) {
          type = f.liikkuvuus === 'Tarvitsen kevyen ja helposti mukana kulkevan laitteen' ? 'Ã„lypuhelin' : 'Tabletti';
          reasons.push('Yhteydenpito onnistuu parhaiten mukana kulkevilla laitteilla.');
        }

        if (f.taso.startsWith('Aloittelija')) {
          reasons.push('Aloittelijalle tÃ¤rkeintÃ¤ on helppokÃ¤yttÃ¶isyys ja selkeÃ¤ nÃ¤yttÃ¶.');
        }
        if (f.tarpeet.includes('EsteettÃ¶myysominaisuudet (Ã¤Ã¤niavustus, suurennus, kontrasti)')) {
          reasons.push('EsteettÃ¶myysominaisuuksia lÃ¶ytyy hyvin Applen ja Samsungin laitteista.');
        }
        if (f.tarpeet.includes('PitkÃ¤ akun kesto')) {
          reasons.push('PitkÃ¤ akku vÃ¤hentÃ¤Ã¤ lataustarvetta arjessa.');
        }

        // Valitse esimerkkituotteet
        const picks = PRODUCTS.filter(p =>
          (type.includes('Tabletti') && p.cat==='Tabletti') ||
          (type.includes('Puhelin') && p.cat.startsWith('Puhelin')) ||
          (type.includes('Kannettava') && p.cat==='Kannettava')
        );

        // Perusteluteksti
        const explain = `Suositus perustuu vastauksiisi: ${[...f.kaytto].join(', ') || 'kÃ¤yttÃ¶tarpeisiin'}, ` +
          `${f.liikkuvuus || 'liikkumiseen'}, ${f.naytto || 'nÃ¤yttÃ¶toiveisiin'} ja budjettiin (${f.budjetti || 'ei valittu'}).`;

        return { type, reasons, picks, explain };
      }, [f]);

      const allFilled = useMemo(()=> (
        f.miksi.length && (f.laitteet.length || true) && f.kaytto.length && f.liikkuvuus && f.naytto && f.taso && f.budjetti
      ), [f]);

      const openPriceTabs = (p) => {
        window.open(p.links.gigantti, '_blank');
        window.open(p.links.verkkis, '_blank');
        window.open(p.links.hintaopas, '_blank');
      };

      const copySummary = () => {
        const text = `Yhteenveto â€“ Minun digilaitteeni\n\n` +
          `Hankintasyyt: ${f.miksi.join(', ')}\n`+
          `Nykyiset laitteet: ${f.laitteet.join(', ') || '-'}\n`+
          `KÃ¤yttÃ¶tarkoitus: ${f.kaytto.join(', ')}\n`+
          `Liikkuvuus: ${f.liikkuvuus}\n`+
          `NÃ¤yttÃ¶: ${f.naytto}\n`+
          `KÃ¤yttÃ¤jÃ¤kokemus: ${f.taso}\n`+
          `Budjetti: ${f.budjetti}\n`+
          `Erityistarpeet: ${f.tarpeet.join(', ') || '-'}\n`+
          `Asuinpaikka: ${f.paikkakunta || '-'}\n`+
          `Digituki: ${f.digituki || '-'}\n\n`+
          `Suositus: ${result.type}\nPerusteet: ${result.reasons.join(' ')}\n`;
        navigator.clipboard.writeText(text).then(()=> alert('Yhteenveto kopioitu leikepÃ¶ydÃ¤lle.'));
      };

      return (
        <div>
          <header className="mb-6">
            <h1 className="text-2xl font-bold">ğŸ§­ Seniorisurf opintopiiri 2025</h1>
            <p className="text-slate-600">TyÃ¶ryhmÃ¤ 1 harjoitustyÃ¶ Â· Kysely: <strong>Minun digilaitteeni â€“ sopiva valinta</strong></p>
            <div className="mt-3 flex items-center gap-2">
              <button onClick={()=>setLargeText(v=>!v)} className="px-3 py-1.5 text-sm rounded-full border bg-white">Aâ€“A: isompi teksti</button>
              <button onClick={()=>window.print()} className="px-3 py-1.5 text-sm rounded-full border bg-white">Tulosta / Tallenna PDF</button>
              <button onClick={copySummary} className="px-3 py-1.5 text-sm rounded-full border bg-white">Kopioi yhteenveto</button>
            </div>
          </header>

          {/* Laatikko 1 â€“ KÃ¤yttÃ¶tarkoitus */}
          <Section id="box1" title="ğŸ§© Laatikko 1 â€“ Alkukartoitus & miksi hankit laitteen" required complete={f.miksi.length>0}>
            <div className="grid gap-3">
              <p className="text-slate-700">(Valitse useampi, jos haluat)</p>
              {[
                'Nykyinen laite on vanha tai hidas',
                'Tarvitsen laitteen tyÃ¶skentelyyn tai opiskeluun',
                'Haluan helpottaa asioiden hoitamista verkossa',
                'Haluan pysyÃ¤ yhteydessÃ¤ lÃ¤heisiin',
                'Haluaisin oppia uutta ja pysyÃ¤ ajan tasalla',
                'Haluaisin aloittaa uuden harrastuksen',
              ].map(opt => (
                <Checkbox key={opt} label={opt} checked={f.miksi.includes(opt)} onChange={(c)=>toggle('miksi', opt)} />
              ))}
              <div className="text-sm text-slate-600 bg-slate-100 rounded-xl p-3">ğŸ’¡ Toimintavinkki: Kirjaa, mitÃ¤ ongelmia haluat ratkaista â€“ onko tÃ¤rkeintÃ¤ nopeus, helppous, koko vai yhteydenpito?</div>
            </div>
          </Section>

          {/* Laatikko 2 â€“ Nykyiset laitteet ja kokemustaso */}
          <Section id="box2" title="ğŸ’¡ Laatikko 2 â€“ Nykyiset laitteet ja kokemustaso" complete={f.taso!==''}>
            <div className="grid gap-3">
              <p className="font-medium">MitÃ¤ laitteita sinulla on kÃ¤ytÃ¶ssÃ¤? (voit valita useamman)</p>
              {['Ei vielÃ¤ lainkaan','Ã„lypuhelin','Tabletti','Kannettava tietokone','PÃ¶ytÃ¤kone','Ã„lykello tai muu mobiililaite'].map(opt => (
                <Checkbox key={opt} label={opt} checked={f.laitteet.includes(opt)} onChange={()=>toggle('laitteet', opt)} />
              ))}

              <p className="font-medium mt-2">Miten arvioit osaamistasi?</p>
              <RadioGroup options={[
                'Aloittelija â€“ tarvitsen mahdollisimman helpon ja selkeÃ¤n laitteen',
                'PeruskÃ¤yttÃ¤jÃ¤ â€“ osaan yleisiÃ¤ sovelluksia ja hoidan asioita',
                'Kokeneempi â€“ hallitsen useita laitteita ja ohjelmia',
              ]} value={f.taso} onChange={v=>setF({...f, taso:v})} />
              <div className="text-sm text-slate-600 bg-slate-100 rounded-xl p-3">ğŸ’¡ Vinkki: HelppokÃ¤yttÃ¶isyys on tÃ¤rkein aloittelijalle, tehokkuus aktiivikÃ¤yttÃ¤jÃ¤lle.</div>
            </div>
          </Section>

          {/* Laatikko 3 â€“ Mieltymykset, liikkuvuus, nÃ¤yttÃ¶ */}
          <Section id="box3" title="ğŸ¨ Laatikko 3 â€“ Mieltymykset (liikkuvuus ja nÃ¤yttÃ¶)" complete={f.liikkuvuus && f.naytto}>
            <div className="grid gap-3">
              <p className="font-medium">Kuinka paljon liikut laitteen kanssa?</p>
              <RadioGroup options={[
                'KÃ¤ytÃ¤n laitetta pÃ¤Ã¤asiassa kotona',
                'Otan laitteen joskus mukaan',
                'Tarvitsen kevyen ja helposti mukana kulkevan laitteen',
              ]} value={f.liikkuvuus} onChange={v=>setF({...f, liikkuvuus:v})} />

              <p className="font-medium">Kumpi on tÃ¤rkeÃ¤mpÃ¤Ã¤?</p>
              <RadioGroup options={[
                'Iso ja selkeÃ¤ nÃ¤yttÃ¶ (helppo nÃ¤hdÃ¤ ja kÃ¤yttÃ¤Ã¤)',
                'Kevyt ja kompakti koko (helppo kuljettaa)',
              ]} value={f.naytto} onChange={v=>setF({...f, naytto:v})} />

              <div className="text-sm text-slate-600 bg-slate-100 rounded-xl p-3">ğŸ’¡ Vinkki: KotikÃ¤yttÃ¶Ã¶n iso ja selkeÃ¤ nÃ¤yttÃ¶ on mukavin. Paljon liikkuvalle kevyt laite on kÃ¤tevin.</div>
            </div>
          </Section>

          {/* Laatikko 4 â€“ Budjetti & erityistarpeet & paikkakunta & digituki */}
          <Section id="box4" title="ğŸ’¶ Laatikko 4 â€“ Budjetti, erityistarpeet ja tuki" required complete={f.budjetti!==''}>
            <div className="grid gap-3">
              <p className="font-medium">Budjetti</p>
              <RadioGroup options={['Alle 500 â‚¬','500â€“1000 â‚¬','Yli 1000 â‚¬']} value={f.budjetti} onChange={v=>setF({...f, budjetti:v})} />

              <p className="font-medium">Erityistarpeet (voit valita useita)</p>
              {['HyvÃ¤ kamera','KynÃ¤tuki','PitkÃ¤ akun kesto','Suuri tallennustila','Pelaamiseen sopiva teho','Suuri ja kirkas nÃ¤yttÃ¶','Kevyt ja helposti mukana kulkeva','Fyysinen nÃ¤ppÃ¤imistÃ¶','EsteettÃ¶myysominaisuudet (Ã¤Ã¤niavustus, suurennus, kontrasti)'].map(opt => (
                <Checkbox key={opt} label={opt} checked={f.tarpeet.includes(opt)} onChange={()=>toggle('tarpeet', opt)} />
              ))}

              <p className="font-medium">Asuinpaikka (kaupunki/kunta)</p>
              <Text value={f.paikkakunta} onChange={v=>setF({...f, paikkakunta:v})} placeholder="Esim. Turku" />

              <p className="font-medium">Digituki</p>
              <RadioGroup options={['KyllÃ¤, mielellÃ¤ni','EhkÃ¤, jos tukea on helposti saatavilla','En tarvitse tukea']} value={f.digituki} onChange={v=>setF({...f, digituki:v})} />

              <div className="text-sm text-slate-600 bg-slate-100 rounded-xl p-3">ğŸ’¡ Vinkki: Moni hyÃ¶tyy lyhyistÃ¤ digitukihetkistÃ¤ kirjastossa â€“ kokeile rohkeasti!</div>
            </div>
          </Section>

          {/* TULOS â€“ nÃ¤kyy aina, pÃ¤ivittyy vastauksista */}
          <section id="tulos" className="bg-white rounded-2xl border border-slate-200 p-4 shadow-sm">
            <h2 className="text-xl font-semibold mb-2">ğŸŸ© Yhteenveto ja suositus</h2>
            {!allFilled && <p className="text-slate-600 mb-3">TÃ¤ytÃ¤ vÃ¤hintÃ¤Ã¤n: miksi, kÃ¤yttÃ¶tarkoitus, liikkuvuus, nÃ¤yttÃ¶, taso ja budjetti â€“ suositus tarkentuu.</p>}

            <div className="grid md:grid-cols-2 gap-4">
              <div className="bg-emerald-50 border border-emerald-200 rounded-xl p-3">
                <h3 className="font-semibold mb-2">ğŸ§¾ Yhteenveto</h3>
                <ul className="text-sm space-y-1">
                  <li><strong>Hankintasyyt:</strong> {f.miksi.join(', ') || 'â€“'}</li>
                  <li><strong>Nykyiset laitteet:</strong> {f.laitteet.join(', ') || 'â€“'}</li>
                  <li><strong>KÃ¤yttÃ¶tarkoitus:</strong> {f.kaytto.join(', ') || 'â€“'}</li>
                  <li><strong>Liikkuvuus:</strong> {f.liikkuvuus || 'â€“'}</li>
                  <li><strong>NÃ¤yttÃ¶:</strong> {f.naytto || 'â€“'}</li>
                  <li><strong>KÃ¤yttÃ¤jÃ¤kokemus:</strong> {f.taso || 'â€“'}</li>
                  <li><strong>Budjetti:</strong> {f.budjetti || 'â€“'}</li>
                  <li><strong>Erityistarpeet:</strong> {f.tarpeet.join(', ') || 'â€“'}</li>
                  <li><strong>Asuinpaikka:</strong> {f.paikkakunta || 'â€“'}</li>
                  <li><strong>Digituki:</strong> {f.digituki || 'â€“'}</li>
                </ul>
              </div>

              <div className="rounded-xl border border-slate-200 p-3">
                <h3 className="font-semibold mb-1">ğŸ’¡ Laitesuositus</h3>
                <p className="mb-2"><strong>Suositus:</strong> {result.type}</p>
                <p className="text-sm text-slate-700 mb-2">{result.explain}</p>
                {result.reasons.length>0 && <ul className="list-disc pl-5 text-sm text-slate-700 space-y-1">
                  {result.reasons.map((r,i)=> <li key={i}>{r}</li>)}
                </ul>}
              </div>
            </div>

            <div className="mt-4 rounded-xl border border-slate-200 p-3">
              <h3 className="font-semibold mb-2">ğŸ›ï¸ Esimerkkilaitteet ja hinnat (avaa hakulinkit)</h3>
              <div className="grid gap-2">
                {result.picks.map(p => (
                  <div key={p.name} className="flex flex-col sm:flex-row sm:items-center justify-between gap-2 border rounded-xl p-3">
                    <div>
                      <div className="font-medium">{p.cat} â€” {p.name}</div>
                      <div className="text-sm text-slate-600">{p.notes}</div>
                    </div>
                    <div className="flex items-center gap-2">
                      <span className="font-semibold">{p.price}</span>
                      <button className="px-2 py-1 text-sm rounded border" onClick={()=>openPriceTabs(p)}>Hae hinnat</button>
                    </div>
                  </div>
                ))}
              </div>
              <p className="text-xs text-slate-500 mt-2">Vihje: paina "Hae hinnat" â€” sivu avaa haun Giganttiin, Verkkokauppa.comiin ja Hintaoppaaseen. NÃ¤in saat ajantasaiset hinnat ilman erillisiÃ¤ lupia tai kirjautumista.</p>
            </div>

            <div className="mt-4 rounded-xl border border-slate-200 p-3">
              <h3 className="font-semibold mb-1">ğŸª MistÃ¤ saat apua ja voit kokeilla laitteita?</h3>
              <ul className="list-disc pl-5 text-sm text-slate-700 space-y-1">
                <li>Kirjasto tai palvelupiste omalla paikkakunnalla â€“ usein digitukea ja laitteiden kokeilua</li>
                <li>Power, Gigantti, Elisa, DNA â€“ myymÃ¤lÃ¶issÃ¤ henkilÃ¶kohtaista neuvontaa</li>
                <li>Kansalaisopistot & jÃ¤rjestÃ¶t (SeniorSurf, Enter ry) â€“ kursseja ja maksutonta digitukea</li>
              </ul>
            </div>
          </section>

          <footer className="text-xs text-slate-500 mt-6">Â© Seniorisurf opintopiiri 2025 Â· TÃ¤mÃ¤ on selkokielinen, ei kerÃ¤Ã¤ henkilÃ¶dataa. Vastaukset tallennetaan vain omaan selaimeesi.</footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('app'));
    root.render(<App/>);
  </script>
</body>
</html>
