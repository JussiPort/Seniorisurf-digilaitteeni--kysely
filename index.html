<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seniorisurf â€“ Minun digilaitteeni</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    body.dark { background-color: #0f172a; color: #e2e8f0; }
    details[open] summary .chev { transform: rotate(90deg); }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 transition-colors">
  <main id="app" class="max-w-4xl mx-auto p-4 sm:p-6"></main>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Kielitekstit + esittely
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    const LANGS = {
      fi: {
        title: "Seniorisurf â€“ Minun digilaitteeni",
        subtitle: "Opintopiiri 2025 Â· TyÃ¶ryhmÃ¤ 1",
        introTitle: "Tervetuloa Seniorisurf-kyselyyn!",
        introBody: `TÃ¤mÃ¤n kyselyn avulla autamme sinua pohtimaan, millainen digilaite sopii juuri sinun tarpeisiisi, arkeesi ja kokemustasoosi. 
        Oikean laitteen valinta ei ole vain tekninen asia â€“ se on askel kohti sujuvampaa, helpompaa ja yhteisÃ¶llisempÃ¤Ã¤ arkea. 
        KyselyssÃ¤ kartoitetaan:
        â€¢ miksi olet hankkimassa laitetta,
        â€¢ miten ja missÃ¤ kÃ¤ytÃ¤t digilaitteita,
        â€¢ millaisia ominaisuuksia arvostat,
        â€¢ ja mistÃ¤ voisit saada tukea ja neuvontaa hankinnan jÃ¤lkeen.
        Lopuksi saat yhteenvedon ja henkilÃ¶kohtaisen suosituksen sekÃ¤ linkkejÃ¤ oman paikkakuntasi ja verkon digiopastukseen.`,
        theme: "Tumma / Vaalea tila",
        bigText: "Aâ€“A isompi teksti",
        print: "Tulosta / PDF",
        lang: "Kieli",
        copy: "Kopioi yhteenveto",
        export: "Vie CSV",
        boxes: [
          "ðŸ§© Laatikko 1 â€“ Alkukartoitus",
          "ðŸ’¡ Laatikko 2 â€“ Nykyiset laitteet & kokemus",
          "ðŸŽ¨ Laatikko 3 â€“ Mieltymykset",
          "ðŸ’¶ Laatikko 4 â€“ Budjetti ja erityistarpeet"
        ],
        tips: {
          why: "ðŸ’¡ Kirjaa, mitÃ¤ ongelmia haluat ratkaista â€“ tÃ¤rkeintÃ¤kÃ¶ on nopeus, helppous, koko vai yhteydenpito?",
          level: "ðŸ’¡ HelppokÃ¤yttÃ¶isyys on tÃ¤rkein aloittelijalle; tehokkuus aktiivikÃ¤yttÃ¤jÃ¤lle.",
          prefs: "ðŸ’¡ KotikÃ¤yttÃ¶Ã¶n iso ja selkeÃ¤ nÃ¤yttÃ¶ on mukavin. Paljon liikkuvalle kevyt laite on kÃ¤tevin.",
          support: "ðŸ’¡ Moni hyÃ¶tyy lyhyistÃ¤ digitukihetkistÃ¤ kirjastossa â€“ kokeile rohkeasti!"
        },
        summary: "ðŸŸ© Yhteenveto ja suositus",
        adviceTitle: "ðŸ’¡ Suositeltu laitetyyppi",
        adviceNote: "Emme nÃ¤ytÃ¤ valmiita malleja. Alla on hakupainikkeet, joista lÃ¶ydÃ¤t ajantasaiset vaihtoehdot ja hinnat.",
        searchTitle: "ðŸ” Hae laitteita eri verkkokaupoista (avautuvat uuteen vÃ¤lilehteen)",
        searchButtons: {
          gigantti: "Hae Gigantista",
          verkkis: "Hae Verkkokauppa.comista",
          power: "Hae Powerista",
          dna: "Hae DNA:lta",
          elisa: "Hae Elisalta",
          hintaopas: "Hae Hintaoppaasta"
        },
        footer: "Â© Seniorisurf opintopiiri 2025 Â· Selkokielinen sivu Â· Ei kerÃ¤Ã¤ henkilÃ¶tietoja"
      },
      sv: {
        title: "Seniorisurf â€“ Min digitala enhet",
        subtitle: "Studiecirkel 2025",
        introTitle: "VÃ¤lkommen till SeniorSurf-enkÃ¤ten!",
        introBody:
          "Med denna enkÃ¤t hjÃ¤lper vi dig fundera pÃ¥ vilken digital enhet som passar just dig. I slutet fÃ¥r du en sammanfattning och lÃ¤nkar till handledning och digitalt stÃ¶d.",
        theme: "MÃ¶rkt / Ljust lÃ¤ge",
        bigText: "Aâ€“A stÃ¶rre text",
        print: "Skriv ut / PDF",
        lang: "SprÃ¥k",
        copy: "Kopiera sammanfattning",
        export: "Exportera CSV",
        summary: "ðŸŸ© Sammanfattning och rekommendation",
        adviceTitle: "ðŸ’¡ Rekommenderad enhetstyp",
        adviceNote: "Vi visar inga fÃ¤rdiga modeller. AnvÃ¤nd knapparna fÃ¶r att sÃ¶ka aktuella alternativ och priser.",
        searchTitle: "ðŸ” SÃ¶k i webbutiker (ny flik)",
        searchButtons: {
          gigantti: "SÃ¶k pÃ¥ Gigantti",
          verkkis: "SÃ¶k pÃ¥ Verkkokauppa.com",
          power: "SÃ¶k pÃ¥ Power",
          dna: "SÃ¶k pÃ¥ DNA",
          elisa: "SÃ¶k pÃ¥ Elisa",
          hintaopas: "SÃ¶k pÃ¥ Hintaopas"
        },
        footer: "Â© Seniorisurf 2025 Â· Ingen persondata samlas"
      },
      en: {
        title: "Senior Surf â€“ My digital device",
        subtitle: "Study Circle 2025",
        introTitle: "Welcome to the SeniorSurf survey!",
        introBody:
          "This survey helps you find what kind of digital device suits your needs. At the end you get a summary and useful links to online and local support.",
        theme: "Dark / Light mode",
        bigText: "Aâ€“A larger text",
        print: "Print / PDF",
        lang: "Language",
        copy: "Copy summary",
        export: "Export CSV",
        summary: "ðŸŸ© Summary and recommendation",
        adviceTitle: "ðŸ’¡ Recommended device type",
        adviceNote:
          "We donâ€™t show specific models. Use the search buttons below to explore up-to-date prices and options.",
        searchTitle: "ðŸ” Search shops (new tab)",
        searchButtons: {
          gigantti: "Search Gigantti",
          verkkis: "Search Verkkokauppa.com",
          power: "Search Power",
          dna: "Search DNA",
          elisa: "Search Elisa",
          hintaopas: "Search Hintaopas"
        },
        footer: "Â© Senior Surf 2025 Â· No personal data collected"
      }
    };

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Hakuosoitteet
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    function buildSearchUrls(device) {
      const q = encodeURIComponent(device);
      return {
        gigantti: `https://www.google.com/search?q=${q}+site:gigantti.fi`,
        verkkis: `https://www.google.com/search?q=${q}+site:verkkokauppa.com`,
        power: `https://www.google.com/search?q=${q}+site:power.fi`,
        dna: `https://www.google.com/search?q=${q}+site:dna.fi`,
        elisa: `https://www.google.com/search?q=${q}+site:elisa.fi`,
        hintaopas: `https://www.google.com/search?q=${q}+site:hintaopas.fi`
      };
    }

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Lomake
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    const load = (k, d) => {
      try { return JSON.parse(localStorage.getItem(k)) ?? d; } catch { return d; }
    };
    const save = (k, v) => {
      try { localStorage.setItem(k, JSON.stringify(v)); } catch {}
    };

    function Section({ title, children }) {
      return (
        <details open className="mb-3 border border-slate-200 dark:border-slate-700 rounded-2xl">
          <summary className="cursor-pointer p-4 font-semibold bg-white dark:bg-slate-800">
            {title}
          </summary>
          <div className="p-4 bg-slate-50 dark:bg-slate-900">{children}</div>
        </details>
      );
    }

    function Checkbox({ label, checked, onChange }) {
      return (
        <label className="flex items-start gap-2 p-1">
          <input type="checkbox" checked={checked} onChange={e => onChange(e.target.checked)} />
          {label}
        </label>
      );
    }

    function App() {
      const [lang, setLang] = useState(load("lang", "fi"));
      const t = LANGS[lang];
      const [dark, setDark] = useState(load("dark", false));
      const [large, setLarge] = useState(load("large", false));

      useEffect(() => { document.body.classList.toggle("dark", dark); save("dark", dark); }, [dark]);
      useEffect(() => { document.documentElement.style.fontSize = large ? "18px" : "16px"; save("large", large); }, [large]);
      useEffect(() => save("lang", lang), [lang]);

      const [answers, setA] = useState({ why: [], use: [], level: "", mobility: "", screen: "", budget: "" });
      const toggle = (k, v) => setA(p => ({ ...p, [k]: p[k].includes(v) ? p[k].filter(x => x !== v) : [...p[k], v] }));

      // PÃ¤Ã¤ttele laitetyyppi
      const result = useMemo(() => {
        let type = "tabletti";
        if (answers.mobility === "Kotona" && answers.screen === "Iso") type = "pÃ¶ytÃ¤kone";
        else if (answers.level.includes("aloittelija")) type = "tabletti";
        else if (answers.use.includes("tyÃ¶skentely") || answers.use.includes("opiskelu")) type = "kannettava";
        else if (answers.mobility === "Liikkuva") type = "Ã¤lypuhelin";
        return type;
      }, [answers]);

      const urls = useMemo(() => buildSearchUrls(result), [result]);

      return (
        <div>
          <header className="mb-6">
            <div className="flex flex-col sm:flex-row justify-between items-center gap-3">
              <div>
                <h1 className="text-2xl font-bold">{t.title}</h1>
                <p>{t.subtitle}</p>
              </div>
              <div className="flex gap-2 items-center flex-wrap">
                <button onClick={() => setDark(v => !v)} className="border px-3 py-1 rounded">{t.theme}</button>
                <button onClick={() => setLarge(v => !v)} className="border px-3 py-1 rounded">{t.bigText}</button>
                <label>{t.lang}:</label>
                <select value={lang} onChange={e => setLang(e.target.value)} className="border rounded px-2 py-1">
                  <option value="fi">FI</option>
                  <option value="sv">SV</option>
                  <option value="en">EN</option>
                </select>
              </div>
            </div>
            <div className="mt-4 p-4 rounded-2xl border bg-white dark:bg-slate-800">
              <h2 className="font-semibold text-lg">{t.introTitle}</h2>
              <p className="mt-2 text-slate-700 dark:text-slate-300 whitespace-pre-line">{t.introBody}</p>
            </div>
          </header>

          <Section title={t.boxes[0]}>
            <p>{t.tips.why}</p>
          </Section>
          <Section title={t.boxes[1]}>
            <p>{t.tips.level}</p>
          </Section>
          <Section title={t.boxes[2]}>
            <p>{t.tips.prefs}</p>
          </Section>
          <Section title={t.boxes[3]}>
            <p>{t.tips.support}</p>
          </Section>

          <section className="mt-6 p-4 bg-white dark:bg-slate-800 rounded-2xl border">
            <h2 className="text-xl font-semibold mb-2">{t.summary}</h2>
            <p><b>{t.adviceTitle}</b>: {result}</p>
            <p className="text-sm mt-1">{t.adviceNote}</p>
            <h3 className="mt-3 font-semibold">{t.searchTitle}</h3>
            <div className="grid sm:grid-cols-2 gap-2 mt-2">
              {Object.entries(urls).map(([k, u]) => (
                <a key={k} href={u} target="_blank" rel="noreferrer"
                   className="border rounded-lg text-center px-3 py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100">
                  {t.searchButtons[k]}
                </a>
              ))}
            </div>
          </section>

          <footer className="text-xs text-slate-500 mt-6">{t.footer}</footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("app")).render(<App />);
  </script>
</body>
</html>
