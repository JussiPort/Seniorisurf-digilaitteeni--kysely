<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seniorisurf â€“ Minun digilaitteeni</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    body.dark { background-color: #0f172a; color: #e2e8f0; }
    details[open] summary .chev { transform: rotate(90deg); }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 transition-colors">
  <main id="app" class="max-w-4xl mx-auto p-4 sm:p-6"></main>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Kielitekstit
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    const LANGS = {
      fi: {
        title: "Seniorisurf â€“ Minun digilaitteeni",
        subtitle: "Opintopiiri 2025 Â· TyÃ¶ryhmÃ¤ 1",
        introTitle: "Tervetuloa Seniorisurf-kyselyyn!",
        introBody: `KyselyssÃ¤ kartoitetaan:
â€¢ miksi olet hankkimassa laitetta,
â€¢ miten ja missÃ¤ kÃ¤ytÃ¤t digilaitteita,
â€¢ millaisia ominaisuuksia arvostat,
â€¢ ja mistÃ¤ voisit saada tukea ja neuvontaa hankinnan jÃ¤lkeen.
Lopuksi saat yhteenvedon ja henkilÃ¶kohtaisen suosituksen sekÃ¤ linkkejÃ¤ oman paikkakuntasi ja verkon digiopastukseen.`,
        theme: "Tumma / Vaalea tila",
        bigText: "Aâ€“A isompi teksti",
        print: "Tulosta / PDF",
        lang: "Kieli",
        copy: "Kopioi yhteenveto",
        export: "Vie CSV",
        boxes: [
          "ğŸ§© Laatikko 1 â€“ Miksi olet hankkimassa laitetta?",
          "ğŸ’¡ Laatikko 2 â€“ Nykyiset laitteet ja oma osaaminen",
          "ğŸ¨ Laatikko 3 â€“ Mieltymykset (liikkuvuus ja nÃ¤yttÃ¶)",
          "ğŸ’¶ Laatikko 4 â€“ Budjetti ja erityistarpeet"
        ],
        tips: {
          why: "ğŸ’¡ Kirjaa, mitÃ¤ ongelmia haluat ratkaista â€“ tÃ¤rkeintÃ¤kÃ¶ on nopeus, helppous, koko vai yhteydenpito?",
          level: "ğŸ’¡ HelppokÃ¤yttÃ¶isyys on tÃ¤rkein aloittelijalle; tehokkuus aktiivikÃ¤yttÃ¤jÃ¤lle.",
          prefs: "ğŸ’¡ KotikÃ¤yttÃ¶Ã¶n iso ja selkeÃ¤ nÃ¤yttÃ¶ on mukavin. Paljon liikkuvalle kevyt laite on kÃ¤tevin.",
          support: "ğŸ’¡ Mieti, paljonko haluat kÃ¤yttÃ¤Ã¤ rahaa ja millaisia ominaisuuksia oikeasti tarvitset.",
          summary: "ğŸ’¡ Hakupainikkeista lÃ¶ydÃ¤t ajantasaisia laitteita ja hintoja eri kaupoista."
        },
        summary: "ğŸŸ© Yhteenveto ja hakulinkit",
        adviceTitle: "ğŸ’¡ Suositeltu laitetyyppi",
        searchTitle: "ğŸ” Hae verkosta (avautuu uuteen vÃ¤lilehteen)",
        searchButtons: {
          gigantti: "Hae Gigantista",
          verkkis: "Hae Verkkokauppa.comista",
          power: "Hae Powerista",
          dna: "Hae DNA:lta",
          elisa: "Hae Elisalta",
          hintaopas: "Hae Hintaoppaasta"
        },
        footer: "Â© Seniorisurf opintopiiri 2025 Â· Ei kerÃ¤Ã¤ henkilÃ¶tietoja Â· Vastaukset tallennetaan selaimeen"
      },
      sv: {
        title: "Seniorisurf â€“ Min digitala enhet",
        subtitle: "Studiecirkel 2025",
        introTitle: "VÃ¤lkommen till SeniorSurf-enkÃ¤ten!",
        introBody: "EnkÃ¤ten hjÃ¤lper dig att fundera pÃ¥ vilken digital enhet som passar dig bÃ¤st. I slutet fÃ¥r du en sammanfattning och lÃ¤nkar till handledning.",
        theme: "MÃ¶rkt / Ljust lÃ¤ge",
        bigText: "Aâ€“A stÃ¶rre text",
        print: "Skriv ut / PDF",
        lang: "SprÃ¥k",
        copy: "Kopiera sammanfattning",
        export: "Exportera CSV",
        summary: "ğŸŸ© Sammanfattning och lÃ¤nkar",
        adviceTitle: "ğŸ’¡ Rekommenderad enhetstyp",
        searchTitle: "ğŸ” SÃ¶k pÃ¥ nÃ¤tet (ny flik)",
        searchButtons: {
          gigantti: "SÃ¶k pÃ¥ Gigantti",
          verkkis: "SÃ¶k pÃ¥ Verkkokauppa.com",
          power: "SÃ¶k pÃ¥ Power",
          dna: "SÃ¶k pÃ¥ DNA",
          elisa: "SÃ¶k pÃ¥ Elisa",
          hintaopas: "SÃ¶k pÃ¥ Hintaopas"
        },
        footer: "Â© Seniorisurf 2025 Â· Inga personuppgifter samlas"
      },
      en: {
        title: "Senior Surf â€“ My digital device",
        subtitle: "Study Circle 2025",
        introTitle: "Welcome to the SeniorSurf survey!",
        introBody: "Weâ€™ll help you choose the right digital device for your needs. At the end you get a summary and links to online and local digital support.",
        theme: "Dark / Light mode",
        bigText: "Aâ€“A larger text",
        print: "Print / PDF",
        lang: "Language",
        copy: "Copy summary",
        export: "Export CSV",
        summary: "ğŸŸ© Summary and links",
        adviceTitle: "ğŸ’¡ Recommended device type",
        searchTitle: "ğŸ” Search online (new tab)",
        searchButtons: {
          gigantti: "Search Gigantti",
          verkkis: "Search Verkkokauppa.com",
          power: "Search Power",
          dna: "Search DNA",
          elisa: "Search Elisa",
          hintaopas: "Search Hintaopas"
        },
        footer: "Â© Senior Surf 2025 Â· No personal data collected"
      }
    };

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Hakulinkit eri kauppoihin
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    function buildSearchUrls(device) {
      const q = encodeURIComponent(device);
      return {
        gigantti: `https://www.google.com/search?q=${q}+site:gigantti.fi`,
        verkkis: `https://www.google.com/search?q=${q}+site:verkkokauppa.com`,
        power: `https://www.google.com/search?q=${q}+site:power.fi`,
        dna: `https://www.google.com/search?q=${q}+site:dna.fi`,
        elisa: `https://www.google.com/search?q=${q}+site:elisa.fi`,
        hintaopas: `https://www.google.com/search?q=${q}+site:hintaopas.fi`
      };
    }

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
       Lomake ja logiikka
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    function Section({ title, children, tip }) {
      return (
        <details open className="mb-3 border border-slate-200 dark:border-slate-700 rounded-2xl">
          <summary className="cursor-pointer p-4 font-semibold bg-white dark:bg-slate-800">
            {title}
          </summary>
          <div className="p-4 bg-slate-50 dark:bg-slate-900 space-y-2">
            {children}
            {tip && (
              <p className="text-sm text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700 rounded-lg p-2">
                {tip}
              </p>
            )}
          </div>
        </details>
      );
    }

    function App() {
      const [lang, setLang] = React.useState("fi");
      const t = LANGS[lang];
      const [dark, setDark] = useState(false);
      const [large, setLarge] = useState(false);

      const [form, setForm] = useState({
        why: [],
        devices: [],
        use: [],
        mobility: "",
        screen: "",
        level: "",
        budget: ""
      });

      const toggleMulti = (key, value) =>
        setForm((f) => {
          const set = new Set(f[key]);
          set.has(value) ? set.delete(value) : set.add(value);
          return { ...f, [key]: [...set] };
        });

      // PÃ¤Ã¤ttele laitetyyppi
      const type = useMemo(() => {
        if (form.mobility === "Kotona" && form.screen === "Iso") return "pÃ¶ytÃ¤kone";
        if (form.level.includes("Aloittelija")) return "tabletti";
        if (form.use.includes("TyÃ¶skentely") || form.use.includes("Opiskelu")) return "kannettava";
        if (form.mobility === "Liikkuva") return "Ã¤lypuhelin";
        return "tabletti";
      }, [form]);

      const urls = useMemo(() => buildSearchUrls(type), [type]);

      return (
        <div>
          {/* YlÃ¤tunniste ja kielivalinta */}
          <header className="mb-6">
            <div className="flex flex-col sm:flex-row justify-between items-center gap-3">
              <div>
                <h1 className="text-2xl font-bold">{t.title}</h1>
                <p>{t.subtitle}</p>
              </div>
              <div className="flex gap-2 items-center flex-wrap">
                <button onClick={() => setDark((v) => !v)} className="border px-3 py-1 rounded">{t.theme}</button>
                <button onClick={() => setLarge((v) => !v)} className="border px-3 py-1 rounded">{t.bigText}</button>
                <label>{t.lang}:</label>
                <select value={lang} onChange={(e) => setLang(e.target.value)} className="border rounded px-2 py-1">
                  <option value="fi">FI</option>
                  <option value="sv">SV</option>
                  <option value="en">EN</option>
                </select>
              </div>
            </div>

            {/* Alkuteksti */}
            <div className="mt-4 p-4 rounded-2xl border bg-white dark:bg-slate-800">
              <h2 className="font-semibold text-lg">{t.introTitle}</h2>
              <p className="mt-2 text-slate-700 dark:text-slate-300 whitespace-pre-line">{t.introBody}</p>
            </div>
          </header>

          {/* Kysymysosiot */}
          <Section title={t.boxes[0]} tip={t.tips.why}>
            <p>Valitse kaikki sopivat syyt.</p>
          </Section>
          <Section title={t.boxes[1]} tip={t.tips.level}>
            <p>Arvioi oma taitotasosi ja valitse kÃ¤yttÃ¤mÃ¤si laitteet.</p>
          </Section>
          <Section title={t.boxes[2]} tip={t.tips.prefs}>
            <p>Valitse liikkuvuus ja nÃ¤ytÃ¶n koko, jotka sopivat sinulle.</p>
          </Section>
          <Section title={t.boxes[3]} tip={t.tips.support}>
            <p>Valitse budjetti ja erityistarpeet. TÃ¤mÃ¤ auttaa rajamaan vaihtoehtoja.</p>
          </Section>

          {/* Tulos ja hakulinkit */}
          <section className="mt-6 p-4 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700">
            <h2 className="text-xl font-semibold mb-2">{t.summary}</h2>
            <p><b>{t.adviceTitle}:</b> {type}</p>
            <p className="mt-2 text-sm">{t.tips.summary}</p>
            <h3 className="mt-3 font-semibold">{t.searchTitle}</h3>
            <div className="grid sm:grid-cols-2 gap-2 mt-2">
              {Object.entries(urls).map(([key, u]) => (
                <a key={key} href={u} target="_blank" rel="noreferrer"
                   className="border rounded-lg text-center px-3 py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100">
                  {t.searchButtons[key]}
                </a>
              ))}
            </div>
          </section>

          <footer className="text-xs text-slate-500 mt-6">{t.footer}</footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("app")).render(<App />);
  </script>
</body>
</html>
